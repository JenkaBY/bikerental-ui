flowchart TD
    subgraph CustomerArrival [Приход клиента]
        A[Клиент приходит] --> B[Поиск по телефону]
        B --> C{Найден?}
        C -->|Да| D[Выбор клиента]
        C -->|Нет| E[Создание клиента]
        E --> D
    end

    subgraph RentalProcess [Оформление аренды]
        D --> F[Ввод номера оборудования]
        F --> T[Выбор времени аренды]
        T --> G[Автовыбор тарифа]
        G --> H[Прием оплаты]
        H --> I[Старт аренды]
    end

    subgraph ReturnProcess [Возврат]
        I --> J[Сканирование NFC]
        J --> K[Расчет времени]
        K --> L{Просрочка?}
        L -->|До 7 мин| M[Без доплаты]
        L -->|Более 7 мин| N[Расчет доплаты]
        M --> O[Закрытие аренды]
        N --> P[Прием доплаты]
        P --> O
    end

    subgraph EarlyReturn [Ранний возврат/замена]
        I --> Q{До 10 мин?}
        Q -->|Да| R[Полный возврат денег]
        Q -->|Нет| J
    end